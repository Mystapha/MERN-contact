{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const getuser = createAsyncThunk(\"user/get\", async () => {\n  try {\n    let result = await axios.get(\"http://localhost:5001/user/\");\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const adduser = createAsyncThunk(\"user/add\", async newuser => {\n  try {\n    let result = await axios.post(\"http://localhost:5001/user/add\", newuser);\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const deleteuser = createAsyncThunk(\"user/delete\", async id => {\n  try {\n    let result = await axios.delete(`http://localhost:5001/user/${id}`);\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const edituser = createAsyncThunk(\"user/edit\", async ({\n  id,\n  edited\n}) => {\n  try {\n    let result = await axios.put(`http://localhost:5001/user/${id}`, edited);\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n});\nconst initialState = {\n  userlist: null,\n  status: null\n};\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder\n    // getuser\n    .addCase(getuser.pending, state => {\n      state.status = \"padding\";\n    }).addCase(getuser.fulfilled, (state, action) => {\n      state.status = \"success\";\n      state.userlist = action.payload.data.user;\n    }).addCase(getuser.rejected, state => {\n      state.status = \"fail\";\n    })\n    // adduser\n    .addCase(adduser.pending, state => {\n      state.status = \"padding\";\n    }).addCase(adduser.fulfilled, (state, action) => {\n      state.status = \"success\";\n    }).addCase(adduser.rejected, state => {\n      state.status = \"fail\";\n    })\n\n    //deleteuser\n    .addCase(deleteuser.pending, state => {\n      state.status = \"padding\";\n    }).addCase(deleteuser.fulfilled, (state, action) => {\n      state.status = \"success\";\n    }).addCase(deleteuser.rejected, state => {\n      state.status = \"fail\";\n    });\n\n    // \n  }\n});\n\n// Action creators are generated for each case reducer function\n\nexport default userSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","getuser","result","get","error","console","log","adduser","newuser","post","deleteuser","id","delete","edituser","edited","put","initialState","userlist","status","userSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","data","user","rejected","reducer"],"sources":["C:/Users/moust/OneDrive/Bureau/contactback/client/src/redux/userslice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport axios from 'axios';\r\n\r\n\r\nexport const getuser=createAsyncThunk(\"user/get\",async()=>{\r\n    try {\r\n        let result=await axios.get(\"http://localhost:5001/user/\");\r\n        return result;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n})\r\nexport const adduser=createAsyncThunk(\"user/add\",async(newuser)=>{\r\n  try {\r\n      let result=await axios.post(\"http://localhost:5001/user/add\",newuser);\r\n      return result;\r\n  } catch (error) {\r\n      console.log(error);\r\n  }\r\n});\r\n\r\nexport const deleteuser=createAsyncThunk(\"user/delete\",async(id)=>{\r\n    try {\r\n        let result=await axios.delete(`http://localhost:5001/user/${id}`);\r\n        return result;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n  });\r\n\r\n  export const edituser=createAsyncThunk(\"user/edit\",async({id,edited})=>{\r\n    try {\r\n        let result=await axios.put(`http://localhost:5001/user/${id}`,edited);\r\n        return result;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n  })\r\n  \r\n  \r\n  \r\n\r\n\r\n\r\nconst initialState = {\r\n  userlist: null,\r\n  status:null\r\n};\r\n\r\nexport const userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n   \r\n  },\r\n  extraReducers:(builder) =>{\r\n    builder\r\n    // getuser\r\n    .addCase(getuser.pending,(state)=>{\r\n        state.status = \"padding\";\r\n    })\r\n    .addCase(getuser.fulfilled,(state,action)=>{\r\n        state.status=\"success\";\r\n        state.userlist=action.payload.data.user;\r\n    })\r\n    .addCase(getuser.rejected,(state)=>{\r\n        state.status = \"fail\";\r\n    })\r\n    // adduser\r\n    .addCase(adduser.pending,(state)=>{\r\n      state.status = \"padding\";\r\n  })\r\n  .addCase(adduser.fulfilled,(state,action)=>{\r\n      state.status=\"success\";\r\n  })\r\n  .addCase(adduser.rejected,(state)=>{\r\n      state.status = \"fail\";\r\n  })\r\n\r\n//deleteuser\r\n\r\n  .addCase(deleteuser.pending,(state)=>{\r\n    state.status = \"padding\";\r\n})\r\n.addCase(deleteuser.fulfilled,(state,action)=>{\r\n    state.status=\"success\";\r\n})\r\n.addCase(deleteuser.rejected,(state)=>{\r\n    state.status = \"fail\";\r\n});\r\n\r\n// \r\n\r\n    \r\n  },\r\n\r\n\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\n\r\n\r\nexport default userSlice.reducer"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}